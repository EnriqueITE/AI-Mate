<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AI Mate - Settings</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="container">
      <h1>AI Mate - Settings</h1>

      <div class="field">
        <label for="apiKey">OpenAI API Key</label>
        <div style="display:flex; gap:8px; align-items:center; max-width:520px;">
          <input id="apiKey" type="password" placeholder="sk-..." style="flex:1;" />
          <button id="toggleKey" type="button">Show</button>
        </div>
        <div class="hint">Stored locally via browser.storage. Not synced. Get a key at
          <a href="https://platform.openai.com/api-keys" target="_blank" rel="noreferrer">platform.openai.com/api-keys</a>
        </div>
      </div>

      <div class="field">
        <label for="model">Model</label>
        <div style="display:flex; gap:8px; align-items:center;">
        <select id="model">
          <option value="gpt-5">gpt-5</option>
          <option value="gpt-4o-mini">gpt-4o-mini</option>
          <option value="gpt-4o">gpt-4o</option>
          <option value="gpt-4.1-mini">gpt-4.1-mini</option>
          <option value="gpt-4.1">gpt-4.1</option>
          <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
        </select>
        <button id="useDefaults" type="button" class="btn-outlined">Use model defaults</button>
        </div>
        <div class="hint">Tip: Some models restrict parameters; defaults are safe.</div>
      </div>

      <div class="field">
        <label for="temperature">Temperature</label>
        <input id="temperature" type="number" step="0.1" min="0" max="2" placeholder="e.g. 0.7" style="max-width:120px" />
        <div class="hint">Higher = more creative. Some models (e.g., gpt-5) only support the default and ignore custom values.</div>
      </div>

      <div class="field">
        <label for="topP">Top P</label>
        <input id="topP" type="number" step="0.01" min="0" max="1" placeholder="e.g. 1" style="max-width:120px" />
      </div>

      <div class="field">
        <label for="maxTokens">Max tokens</label>
        <input id="maxTokens" type="number" step="1" min="1" placeholder="optional" style="max-width:120px" />
      </div>

      <div class="field">
        <label for="presencePenalty">Presence penalty</label>
        <input id="presencePenalty" type="number" step="0.1" min="-2" max="2" placeholder="e.g. 0" style="max-width:120px" />
      </div>

      <div class="field">
        <label for="frequencyPenalty">Frequency penalty</label>
        <input id="frequencyPenalty" type="number" step="0.1" min="-2" max="2" placeholder="e.g. 0" style="max-width:120px" />
      </div>

      <div class="field">
        <label for="defaultPrompt">Default/Last Prompt</label>
        <textarea id="defaultPrompt" rows="5" style="width:100%; max-width:520px; resize:vertical" placeholder="Optional instruction to apply when generating."></textarea>
        <div class="hint">Used when clicking the toolbar button (no popup). You can change it here anytime.</div>
      </div>

      <div class="field">
        <label for="summaryLanguage">Summary language</label>
        <div style="display:flex; gap:8px; align-items:center; max-width:320px;">
          <select id="summaryLanguage">
            <option value="auto">Auto (detect)</option>
            <option value="en">English</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
            <option value="de">Deutsch</option>
            <option value="pt">Português</option>
            <option value="it">Italiano</option>
            <option value="nl">Nederlands</option>
            <option value="ja">日本語</option>
            <option value="zh">中文 (简体)</option>
            <option value="ru">Русский</option>
            <option value="ar">العربية</option>
          </select>
        </div>
        <div class="hint">Choose the language the summary should be written in. If set to Auto, the add-on will try to detect the message language. Your Default Prompt will also be taken into account when creating summaries.</div>
      </div>
      <div class="field">
        <label for="summaryStyle">Summary style</label>
        <div style="display:flex; gap:8px; align-items:center; max-width:320px;">
          <select id="summaryStyle">
            <option value="balanced">Balanced (default)</option>
            <option value="concise">Concise / short</option>
            <option value="detailed">Detailed / long</option>
            <option value="outline">Outline / schematic</option>
          </select>
        </div>
        <div class="hint">Controls the tone and length of generated summaries.</div>
      </div>

      <div class="actions">
        <button id="save">
          <span class="btn-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7l-4-4zM7 5h8v4H7V5zm5 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>
          </span>
          <span>Save</span>
        </button>
        <button id="test" class="btn-outlined">
          <span class="btn-icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M9 16.2l-3.5-3.5-1.4 1.4L9 19 20.3 7.7l-1.4-1.4z"/></svg>
          </span>
          <span>Test API Key</span>
        </button>
        <span id="status" class="status"></span>
      </div>
    </div>
    <div class="meta">
      <a href="https://buymeacoffee.com/enriqueite" target="_blank" rel="noreferrer">Buy me a coffee</a>
      <a href="https://x.com/enriqueite" target="_blank" rel="noreferrer">X @enriqueite</a>
      <a href="https://instagram.com/enriqueite_" target="_blank" rel="noreferrer">@enriqueite_</a>
    </div>
    <script src="options.js"></script>
  </body>
  </html>
